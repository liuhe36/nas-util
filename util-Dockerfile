#
# Dockerfile for youtube-dl
#

FROM jlesage/baseimage-gui:ubuntu-22.04

ENV DEBIAN_FRONTEND=noninteractive
MAINTAINER liu

RUN apt update && \
    apt install software-properties-common aptitude -y && \
    add-apt-repository ppa:savoury1/ffmpeg5 -y && \
    apt update && \
    aptitude install libmfx1 libmfx-tools libva-drm2 libva-x11-2 libva-wayland2 libva-glx2 vainfo mesa-utils intel-media-va-driver-non-free -y && \
    aptitude install mediainfo ffmpeg -y && \
    apt clean
    
RUN apt update && \
    add-apt-repository ppa:yt-dlp/stable -y && \
    apt update && \
    apt install yt-dlp -y && \
    apt clean
    
ENV LIBVA_DRIVER_NAME=iHD

WORKDIR /data
#COPY startapp.sh /startapp.sh
CMD ["/bin/sh"]
